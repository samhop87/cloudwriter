import{A as s,z as c,o as d,g as a,d as o,t as u,c as h,w as x,m as f,n as C,q as w,B as p,F as g,l as v,f as y}from"./app.c1c1628f.js";import{_ as b}from"./_plugin-vue_export-helper.cdc0426e.js";const k={props:{id:{required:!1},type:{required:!1},folder:{required:!0},title:{required:!1},depth:{required:!1}},name:"project-tree",data(){return{showChildren:!1,new_title:null,new_folder:null}},methods:{toggleChildrenOrOpen(l,t){l!=="doc"?this.showChildren=!this.showChildren:s.Inertia.get("/project/file/"+t+"/show")},toggleContent(){this.showContent=!this.showContent},createFile(l){s.Inertia.post("/files/file/create",{folder_id:l,title:this.new_title})},createFolder(l){s.Inertia.post("/files/folder/create",{folder_id:l,folder_name:this.new_folder})}}},j={class:"flex flex-row flex-wrap"},q={class:"p-4 mx-1"},F=y(" X "),B={class:"flex flex-row flex-wrap"},V={key:0,class:"p-4 rounded-sm border-turquoise flex flex-row border-b w-full"};function O(l,t,e,I,i,n){const _=c("Link"),m=c("project-tree",!0);return d(),a("div",j,[o("div",{class:C(e.type==="doc"?"p-1 border-cleomagenta border-2":"w-full border-green-300 border-4")},[o("div",{onClick:t[0]||(t[0]=r=>n.toggleChildrenOrOpen(e.type,e.id)),class:"cursor-pointer flex flex-row flex-wrap"},[o("div",q,u(e.title?e.title:l.name)+" - "+u(e.type),1)]),e.type!=="project"?(d(),h(_,{key:0,class:"text-xl flex cursor-pointer bg-red-500",href:e.type==="doc"?l.route("project.file.delete",{id:e.id}):l.route("project.folder.delete",{id:e.id}),method:"delete","preserve-scroll":"","preserve-state":"",as:"button"},{default:x(()=>[F]),_:1},8,["href"])):f("",!0)],2),o("div",B,[e.type==="folder"&&i.showChildren||e.type==="project"&&i.showChildren?(d(),a("div",V,[w(o("input",{"onUpdate:modelValue":t[1]||(t[1]=r=>i.new_title=r),class:"bg-blue-400",placeholder:"Create new file inside this folder:"},null,512),[[p,i.new_title]]),o("div",{onClick:t[2]||(t[2]=r=>n.createFile(e.id)),class:"p-2 bg-red-600 text-xl cursor-pointer"},"+"),w(o("input",{"onUpdate:modelValue":t[3]||(t[3]=r=>i.new_folder=r),class:"bg-yellow-500 ml-1",placeholder:"Create new folder inside this folder:"},null,512),[[p,i.new_folder]]),o("div",{onClick:t[4]||(t[4]=r=>n.createFolder(e.id)),class:"p-2 bg-turquoise text-xl cursor-pointer"},"+")])):f("",!0),i.showChildren?(d(!0),a(g,{key:1},v(e.folder,r=>(d(),h(m,{folder:r.content,title:r.title,id:r.id,type:r.internal_type,depth:e.depth+1},null,8,["folder","title","id","type","depth"]))),256)):f("",!0)])])}const T=b(k,[["render",O]]);export{T as default};
