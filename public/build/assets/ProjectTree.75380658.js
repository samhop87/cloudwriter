import{z as n,A as c,o as d,g as f,d as o,t as u,c as h,w as m,m as a,n as C,q as w,B as _,F as v,l as g,f as y}from"./app.d099ed1d.js";import{_ as b}from"./_plugin-vue_export-helper.cdc0426e.js";const k={props:{id:{required:!1},type:{required:!1},folder:{required:!0},title:{required:!1},depth:{required:!1}},name:"project-tree",data(){return{showChildren:!1,new_title:null,new_folder:null}},methods:{toggleChildrenOrOpen(r,t){r!=="doc"?this.showChildren=!this.showChildren:n.Inertia.get("/active-file?title="+this.title,{file_id:t})},toggleContent(){this.showContent=!this.showContent},createFile(r){n.Inertia.post("/files/file/create",{folder_id:r,title:this.new_title})},createFolder(r){n.Inertia.post("/files/folder/create",{folder_id:r,folder_name:this.new_folder})}}},q={class:"flex flex-row flex-wrap"},j={class:"p-4 mx-1"},F=y(" X "),B={class:"flex flex-row flex-wrap"},V={key:0,class:"p-4 rounded-sm border-turquoise flex flex-row border-b w-full"};function O(r,t,e,I,i,s){const p=c("Link"),x=c("project-tree",!0);return d(),f("div",q,[o("div",{class:C(e.type==="doc"?"p-1 border-cleomagenta border-2":"w-full border-green-300 border-4")},[o("div",{onClick:t[0]||(t[0]=l=>s.toggleChildrenOrOpen(e.type,e.id)),class:"cursor-pointer flex flex-row flex-wrap"},[o("div",j,u(e.title)+" - "+u(e.type),1)]),e.type!=="project"?(d(),h(p,{key:0,class:"text-xl",href:e.type==="doc"?r.route("files.file.delete",{id:e.id}):r.route("files.folder.delete",{id:e.id}),method:"delete","preserve-scroll":"","preserve-state":"",as:"button"},{default:m(()=>[F]),_:1},8,["href"])):a("",!0)],2),o("div",B,[e.type==="folder"&&i.showChildren||e.type==="project"&&i.showChildren?(d(),f("div",V,[w(o("input",{"onUpdate:modelValue":t[1]||(t[1]=l=>i.new_title=l),class:"bg-blue-400",placeholder:"Create new file inside this folder:"},null,512),[[_,i.new_title]]),o("div",{onClick:t[2]||(t[2]=l=>s.createFile(e.id)),class:"p-2 bg-red-600 text-xl cursor-pointer"},"+"),w(o("input",{"onUpdate:modelValue":t[3]||(t[3]=l=>i.new_folder=l),class:"bg-yellow-500 ml-1",placeholder:"Create new folder inside this folder:"},null,512),[[_,i.new_folder]]),o("div",{onClick:t[4]||(t[4]=l=>s.createFolder(e.id)),class:"p-2 bg-turquoise text-xl cursor-pointer"},"+")])):a("",!0),i.showChildren?(d(!0),f(v,{key:1},g(e.folder,l=>(d(),h(x,{folder:l.content,title:l.title,id:l.id,type:l.internal_type,depth:e.depth+1},null,8,["folder","title","id","type","depth"]))),256)):a("",!0)])])}const T=b(k,[["render",O]]);export{T as default};
