import{A as d,z as p,o as n,g as a,d as r,t as f,n as _,q as c,B as u,m as w,F as m,l as x,c as C}from"./app.74f083cb.js";import{_ as g}from"./_plugin-vue_export-helper.cdc0426e.js";const v={props:{id:{required:!1},type:{required:!1},folder:{required:!0},title:{required:!1},depth:{required:!1}},name:"project-tree",data(){return{showChildren:!1,new_title:null,new_folder:null}},methods:{toggleChildrenOrOpen(o,e){o!=="doc"?this.showChildren=!this.showChildren:d.Inertia.get("/active-file?title="+this.title,{file_id:e})},toggleContent(){this.showContent=!this.showContent},createFile(o){d.Inertia.post("/files/file/create",{folder_id:o,title:this.new_title})},createFolder(o){d.Inertia.post("/files/folder/create",{folder_id:o,folder_name:this.new_folder})}}},y={class:"flex flex-row flex-wrap"},b={class:"p-4 mx-1"},k={class:"flex flex-row flex-wrap"},q={key:0,class:"p-4 rounded-sm border-turquoise flex flex-row border-b w-full"};function F(o,e,t,j,i,s){const h=p("project-tree",!0);return n(),a("div",y,[r("div",{class:_(t.type==="doc"?"p-1 border-cleomagenta border-2":"w-full border-green-300 border-4")},[r("div",{onClick:e[0]||(e[0]=l=>s.toggleChildrenOrOpen(t.type,t.id)),class:"cursor-pointer flex flex-row flex-wrap"},[r("div",b,f(t.title?t.title:o.name)+" - "+f(t.type),1)])],2),r("div",k,[t.type==="folder"&&i.showChildren||t.type==="project"&&i.showChildren?(n(),a("div",q,[c(r("input",{"onUpdate:modelValue":e[1]||(e[1]=l=>i.new_title=l),class:"bg-blue-400",placeholder:"Create new file inside this folder:"},null,512),[[u,i.new_title]]),r("div",{onClick:e[2]||(e[2]=l=>s.createFile(t.id)),class:"p-2 bg-red-600 text-xl cursor-pointer"},"+"),c(r("input",{"onUpdate:modelValue":e[3]||(e[3]=l=>i.new_folder=l),class:"bg-yellow-500 ml-1",placeholder:"Create new folder inside this folder:"},null,512),[[u,i.new_folder]]),r("div",{onClick:e[4]||(e[4]=l=>s.createFolder(t.id)),class:"p-2 bg-turquoise text-xl cursor-pointer"},"+")])):w("",!0),i.showChildren?(n(!0),a(m,{key:1},x(t.folder,l=>(n(),C(h,{folder:l.content,title:l.title,id:l.id,type:l.internal_type,depth:t.depth+1},null,8,["folder","title","id","type","depth"]))),256)):w("",!0)])])}const V=g(v,[["render",F]]);export{V as default};
